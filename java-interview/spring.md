[–í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è](../README.md)

# Spring

+ [–°—É—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω–∞ DI IOC](spring.md#–°—É—Ç—å-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-DI-IOC)
+ [–ß—Ç–æ —Ç–∞–∫–æ–µ _Spring_?](spring.md#–ß—Ç–æ-—Ç–∞–∫–æ–µ-spring)
+ [–ß—Ç–æ —Ç–∞–∫–æ–µ _AOP?_ –ö–∞–∫ —ç—Ç–æ –æ—Ç–Ω–æ—Å–∏—Ç—å—Å—è –∫ _IoC?_](spring.md#–ß—Ç–æ-—Ç–∞–∫–æ–µ-AOP-–ö–∞–∫-—ç—Ç–æ-–æ—Ç–Ω–æ—Å–∏—Ç—å—Å—è-–∫-IoC)
+ [–ö–∞–∫–∏–µ –≤—ã –∑–Ω–∞–µ—Ç–µ —Ä–∞–∑–ª–∏—á–Ω—ã–µ scope —É Spring _Bean?_](spring.md#–ö–∞–∫–∏–µ-–≤—ã-–∑–Ω–∞–µ—Ç–µ-—Ä–∞–∑–ª–∏—á–Ω—ã–µ-scope-—É-Spring-Bean)
+ [–ß—Ç–æ —Ç–∞–∫–æ–µ _–±–∏–Ω?_](spring.md#–ß—Ç–æ-—Ç–∞–∫–æ–µ-–±–∏–Ω)
+ [–ß—Ç–æ —Ç–∞–∫–æ–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª Spring _Bean?_](spring.md#–ß—Ç–æ-—Ç–∞–∫–æ–µ-–∂–∏–∑–Ω–µ–Ω–Ω—ã–π-—Ü–∏–∫–ª-Spring-Bean)
+ [–ß—Ç–æ —Ç–∞–∫–æ–µ BeanPostProcessor?](spring.md#–ß—Ç–æ-—Ç–∞–∫–æ–µ-BeanPostProcessor)
+ [–ö–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –º–æ–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ –≤ _Spring?_](spring.md#–ö–∞–∫–∏–º-–æ–±—Ä–∞–∑–æ–º-–º–æ–∂–Ω–æ-—É–ø—Ä–∞–≤–ª—è—Ç—å-—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏-–≤-Spring)
+ [–ö–∞–∫–∞—è —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ @Component, @Repository –∏ @Service –≤ _Spring?_](spring.md#–ö–∞–∫–∞—è-—Ä–∞–∑–Ω–∏—Ü–∞-–º–µ–∂–¥—É-–∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏-Component-Repository-–∏-Service-–≤-Spring)
+ [–ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è Bean –æ—Ç _Component?_](spring.md#–ß–µ–º-–æ—Ç–ª–∏—á–∞–µ—Ç—Å—è-Bean-–æ—Ç-Component)
+ [–í —á—ë–º —Å–æ—Å—Ç–æ–∏—Ç —Ä–∞–∑–ª–∏—á–∏–µ –º–µ–∂–¥—É Spring –∏ Spring _Boot?_](spring.md#–í-—á—ë–º-—Å–æ—Å—Ç–æ–∏—Ç-—Ä–∞–∑–ª–∏—á–∏–µ-–º–µ–∂–¥—É-Spring-–∏-Spring-Boot)
+ [–ö–ª—é—á–µ–≤—ã–µ —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É Spring –∏ Spring Boot Spring vs Spring Boot](spring.md#–ö–ª—é—á–µ–≤—ã–µ-—Ä–∞–∑–ª–∏—á–∏—è-–º–µ–∂–¥—É-Spring-–∏-Spring-Boot-Spring-vs-Spring-Boot)
+ [@Transactional](spring.md#Transactional)
+ [–†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É JDBC, JPA, Hibernate, Spring Data Jpa](spring.md#JDBC-JPA-Hibernate-Spring-Data-Jpa)
+ [JPA –∑–∞—á–µ–º –Ω–∞–¥–æ Fetch](spring.md#JPA-–∑–∞—á–µ–º-–Ω–∞–¥–æ-Fetch)
+ [Criteria API](spring.md#Criteria-API)
+ [–ß—Ç–æ —Ç–∞–∫–æ–µ Spring _MVC?_](spring.md#–ß—Ç–æ-—Ç–∞–∫–æ–µ-spring-mvc)
+ [–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞](spring.md#–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞)
+ [@RestController vs @Controller](spring.md#RestController-vs-Controller)
+ [Spring Boot —Å—Ç–∞—Ä—Ç–µ—Ä—ã](spring.md#spring-boot-—Å—Ç–∞—Ä—Ç–µ—Ä—ã)
+ [Feign client](spring.md#feign-client )
+ [MapStruct](spring.md#mapStruct )

## –°—É—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω–∞ DI IOC
IoC - –∞—É—Ç—Å–æ—Ä—Å–∏–Ω–≥ —Å–æ–∑–∞–¥–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞–º–∏. –¢.–µ. –ø–µ—Ä–µ–¥–∞—á–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–º –ø—Ä–∞–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ
–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞–º–∏ –°–ø—Ä–Ω–∏–Ω–≥

DI - –∞—É—Ç—Å–æ—Ä—Å–∏–Ω–≥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/–≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. DI –¥–µ–ª–∞–µ—Ç –æ–±—ä–µ–∫—Ç—ã –Ω–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è 
—Å–ª–æ–±–æ—Å–≤—è–∑–∞–Ω–Ω—ã–º–∏

[–∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#Spring)

## –ß—Ç–æ —Ç–∞–∫–æ–µ _Spring_?
Spring - —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã–π –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ enterprise-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –û–¥–Ω–∏–º –∏–∑ –≥–ª–∞–≤–Ω—ã–º –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ–º Spring —è–≤–ª—è–µ—Ç—Å—è –µ–≥–æ —Å–ª–æ–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –≤–∞–º —Å–∞–º–∏–º –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∫–∞–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –≤ –≤–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏. –ú–æ–¥—É–ª–∏ Spring –ø–æ—Å—Ç—Ä–æ–µ–Ω—ã –Ω–∞ –±–∞–∑–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç –±–∏–Ω–æ–≤.
–û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä - –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª Spring. –ì–ª–∞–≤–Ω—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —è–≤–ª—è–µ—Ç—Å—è BeanFactory - —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –§–∞–±—Ä–∏–∫–∞. BeanFactory –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–∑–¥–µ–ª–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö –æ—Ç –∫–æ–¥–∞.
Spring context - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–∫—Ä—É–∂–∞—é—â–µ–π —Å—Ä–µ–¥–µ –¥–ª—è Spring. –°—é–¥–∞ –≤—Ö–æ–¥—è—Ç —Ç–∞–∫–∏–µ enterprise-—Å–µ—Ä–≤–∏—Å—ã, –∫–∞–∫ JNDI, EJB, –∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è, –≤–∞–ª–∏–∞–¥—Ü–∏—è –∏ —Ç.–ø.
Spring AOP - –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –∞—Å–ø–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –≤–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫. Spring AOP –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–µ—Ä–≤–∏—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ –¥–ª—è Spring-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
Spring DAO - –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å Spring JDBC DAO –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–µ—Ä–∞—Ä—Ö–∏—é –∏—Å–∫–ª—é—á–µ–Ω–∏–π –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ë–î. –≠—Ç–∞ –∏–µ—Ä–∞—Ä—Ö–∏—è —É–ø—Ä–æ—â–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –∏—Å–∫–ª—é—á–µ–Ω–∏–π –∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–º–µ–Ω—å—à–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä–æ–µ –≤–∞–º –Ω—É–∂–Ω–æ –±—ã–ª–æ –±—ã –Ω–∞–ø–∏—Å–∞—Ç—å –¥–ª—è —Ç–∞–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, –∫–∞–∫, –Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç–∫—Ä—ã—Ç–∏–µ –∏ –∑–∞–∫—Ä—ã—Ç–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.
Spring ORM - –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é Spring –∏ —Ç–∞–∫–∏—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö ORM-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤, –∫–∞–∫ Hibernate, iBatis –∏ JDO.
Spring Web module - –∫–ª–∞—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥–∞—é—Ç —É–ø—Ä–æ—Å—Ç–∏—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É Web (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –¥–æ—Å—Ç—É–ø –∫ –±–∏–Ω–∞–º Spring-–∞ –∏–∑ web).

[–∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#Spring)

## –ß—Ç–æ —Ç–∞–∫–æ–µ _AOP?_ –ö–∞–∫ —ç—Ç–æ –æ—Ç–Ω–æ—Å–∏—Ç—å—Å—è –∫ _IoC?_
–ê—Å–ø–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ (–ê–û–ü) - –ø–∞—Ä–∞–¥–∏–≥–º–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ –∏–¥–µ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è 
—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Ä–∞–∑–±–∏–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã –Ω–∞ –º–æ–¥—É–ª–∏. AOP –∏ Spring - –≤–∑–∞–∏–º–æ–¥–æ–ø–æ–ª–Ω—è—é—â–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, 
–∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç —Ä–µ—à–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –ø—É—Ç–µ–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏. –ê–û–ü –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç 
–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–∫–≤–æ–∑–Ω–æ–π –ª–æ–≥–∏–∫–∏ - —Ç.–µ. –ª–æ–≥–∏–∫–∏, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –º–Ω–æ–∂–µ—Å—Ç–≤—É —á–∞—Å—Ç–µ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è - –≤ 
–æ–¥–Ω–æ–º –º–µ—Å—Ç–µ –∏ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —ç—Ç–æ–π –ª–æ–≥–∏–∫–∏ –ø–æ –≤—Å–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é. –ü–æ–¥—Ö–æ–¥ Spring –∫ –ê–û–ü 
–∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ "–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–∫—Å–∏" –¥–ª—è —Ü–µ–ª–µ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –∏ "–ø—Ä–∏–≤—è–∑—ã–≤–∞–Ω–∏–∏" –æ–±—ä–µ–∫—Ç–æ–≤ –∫ 
–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É —Å–æ–≤–µ—Ç—É –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫–≤–æ–∑–Ω–æ–π –ª–æ–≥–∏–∫–∏.

[–∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#Spring)

## –ö–∞–∫–∏–µ –≤—ã –∑–Ω–∞–µ—Ç–µ —Ä–∞–∑–ª–∏—á–Ω—ã–µ scope —É Spring _Bean?_

–í Spring –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω—ã —Ä–∞–∑–ª–∏—á–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏ –≤—Ä–µ–º–µ–Ω–∏ –¥–µ–π—Å—Ç–≤–∏—è –±–∏–Ω–æ–≤:

__Singleton__ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä –±–∏–Ω–∞. –≠—Ç–æ—Ç —Ç–∏–ø –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–ø—Ä–∏–Ω–≥–æ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ –¥—Ä—É–≥–æ–µ.
–°–ª–µ–¥—É–µ—Ç –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –∫–ª–∞—Å—Å–∞, —Ç.–∫. –æ–Ω–∏ –Ω–µ –±—É–¥—É—Ç –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏.

__Prototype__ —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ.

__Request__ –∞–Ω–∞–ª–æ–≥–∏—á–µ–Ω prototype, –Ω–æ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–ª—É–∂–∏—Ç –ø–æ—è—Å–Ω–µ–Ω–∏–µ–º –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –±–∏–Ω–∞ –≤ –≤–µ–± –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏. 
–°–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –ø—Ä–∏ –∫–∞–∂–¥–æ–º HTTP request.

__Session__ –Ω–æ–≤—ã–π –±–∏–Ω —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –ø—Ä–∏ –∫–∞–∂–¥–æ–π –Ω–æ–≤–æ–π HTTP —Å–µ—Å—Å–∏–∏.
global-session: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –±–∏–Ω–æ–≤ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–µ—Å—Å–∏–∏ –¥–ª—è Portlet  –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

[–∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#Spring)

## –ß—Ç–æ —Ç–∞–∫–æ–µ _–±–∏–Ω?_

–í Spring-–µ –±–∏–Ω–æ–º (bean) –Ω–∞–∑—ã–≤–∞—é—Ç –ª—é–±–æ–π –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º Spring. 
–¢–æ –µ—Å—Ç—å —Ç–∞–∫–∏–º–∏ –≤–µ—â–∞–º–∏, –∫–∞–∫ —Å–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –±–∏–Ω–∞, –µ–≥–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ 
–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –¥–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—Å–µ–≤–æ–∑–º–æ–∂–Ω—ã—Ö –æ–±–µ—Ä—Ç–æ–∫ –Ω–∞–¥ –±–∏–Ω–æ–º, 
–∑–∞–Ω–∏–º–∞–µ—Ç—Å—è –Ω–µ –≤–∞—à –∫–æ–¥, –∞ IoC-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä Spring-–∞.

[–∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#Spring)

## –ß—Ç–æ —Ç–∞–∫–æ–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª Spring _Bean?_

–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª Spring Bean - –≤—Ä–µ–º—è —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∫–ª–∞—Å—Å–∞. Spring –±–∏–Ω—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Spring –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ 
–≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. –ö–æ–≥–¥–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è, —Ç–æ —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è –∏ –≤—Å—ë —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ. –ï—Å–ª–∏ –Ω–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–¥–∞—Ç—å 
–∫–∞–∫–æ–µ-–ª–∏–±–æ –¥–µ–π—Å—Ç–≤–∏–µ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–∏ –±–∏–Ω–∞, —Ç–æ –Ω—É–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –º–µ—Ç–æ–¥–∞–º–∏ init() –∏ destroy(). 
–î–ª—è —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ @PostConstruct –∏ @PreDestroy().

![icon](resources/bean_life.png)

[–∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#Spring)

## –ß—Ç–æ —Ç–∞–∫–æ–µ BeanPostProcessor
__BeanPostProcessor__ - —ç—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ Spring Framework, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω—è—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –±–∏–Ω–æ–≤ 
Spring –¥–æ –∏ –ø–æ—Å–ª–µ –∏—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–Ω–µ–¥—Ä—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –ª–æ–≥–∏–∫—É –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —ç—Ç–∞–ø–∞—Ö –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –±–∏–Ω–∞.

–í–æ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–∏–ø–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ BeanPostProcessor –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–µ–Ω:

1. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: –í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å BeanPostProcessor –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∏–Ω–æ–≤ –ø–µ—Ä–µ–¥ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤—ã –º–æ–∂–µ—Ç–µ 
–¥–æ–±–∞–≤–ª—è—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–ª–∏ —Ä–µ—Å—É—Ä—Å—ã –≤ –±–∏–Ω—ã –≤–æ –≤—Ä–µ–º—è –∏—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.

2. AOP (Aspect-Oriented Programming): –í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å BeanPostProcessor –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∞—Å–ø–µ–∫—Ç–æ–≤ –∫ –±–∏–Ω–∞–º. –ù–∞–ø—Ä–∏–º–µ—Ä, 
–≤—ã –º–æ–∂–µ—Ç–µ –æ–±–µ—Ä–Ω—É—Ç—å –±–∏–Ω –≤ –ø—Ä–æ–∫—Å–∏, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –∞—Å–ø–µ–∫—Ç—ã –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–∞–º–æ–≥–æ –±–∏–Ω–∞.

3. –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π: –í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å BeanPostProcessor –¥–ª—è –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, 
–µ—Å–ª–∏ –≤–∞—à –±–∏–Ω –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –¥—Ä—É–≥–∏—Ö –±–∏–Ω–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å BeanPostProcessor, 
—á—Ç–æ–±—ã –≤–Ω–µ–¥—Ä–∏—Ç—å —ç—Ç–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤–æ –≤—Ä–µ–º—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –±–∏–Ω–∞.

4. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞: BeanPostProcessor –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –±–∏–Ω–∞—Ö, –∏—Ö —Ç–∏–ø–∞—Ö –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–∏.

–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è BeanPostProcessor:
```java
import org.springframework.beans.BeansException;
import org.springframework.beans.factory.config.BeanPostProcessor;

public class CustomBeanPostProcessor implements BeanPostProcessor {

    @Override
    public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {
        // –õ–æ–≥–∏–∫–∞, –≤—ã–ø–æ–ª–Ω—è–µ–º–∞—è –ø–µ—Ä–µ–¥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π –±–∏–Ω–∞
        return bean;
    }

    @Override
    public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {
        // –õ–æ–≥–∏–∫–∞, –≤—ã–ø–æ–ª–Ω—è–µ–º–∞—è –ø–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –±–∏–Ω–∞
        return bean;
    }
}
```
–≠—Ç–æ—Ç BeanPostProcessor –º–æ–∂–Ω–æ –∑–∞—Ç–µ–º –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ Spring –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –ö–æ–≥–¥–∞ Spring —Å–æ–∑–¥–∞–µ—Ç –∏ 
–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –±–∏–Ω—ã, –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –ª–æ–≥–∏–∫—É –∏–∑ BeanPostProcessor –∫ –Ω–∏–º –ø–µ—Ä–µ–¥ –∏ –ø–æ—Å–ª–µ –∏—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.

[–∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#Spring)

## –ö–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –º–æ–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ –≤ _Spring?_

–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ –≤ Spring —É–ø—Ä–∞–≤–ª—è—é—Ç —Å –ø–æ–º–æ—â—å—é Declarative Transaction Management (–ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ). 
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è @Transactional –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–µ–π. –í —Ñ–∞–π–ª–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ 
–Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É transactionManager –¥–ª—è DataSource.

[–∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#Spring)

## –ö–∞–∫–∞—è —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ @Component, @Repository –∏ @Service –≤ _Spring?_

Spring @Component, @Service, @Repository –∏ @Controller –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –ø—É—Ç–∏, 
–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–∞–∫ bean-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ —Å—Ä–µ–¥–µ Spring. @Component - —ç—Ç–æ –æ–±—â–∞—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è.
–†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É @Service, @Repository, @Controller –∏ @Component –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ –æ–Ω–∏ —è–≤–ª—è—é—Ç—Å—è —á–∞—Å—Ç–Ω—ã–º–∏ —Å–ª—É—á–∞—è–º–∏ 
@Component –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ü–µ–ª–µ–π. –†–∞–∑–Ω–∏—Ü–∞ —Ç–æ–ª—å–∫–æ –≤ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏.

__@Component__ - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è –∫–ª–∞—Å—Å–∞ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ spring. –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ø–æ–∏—Å–∫–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π, 
—Ç–∞–∫–æ–π –∫–ª–∞—Å—Å –±—É–¥–µ—Ç —Å–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω –∫–∞–∫ spring bean.

__@Controller__ - —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ç–∏–ø –∫–ª–∞—Å—Å–∞, –ø—Ä–∏–º–µ–Ω—è–µ–º—ã–π –≤ MVC –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∏ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 
—Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π @RequestMapping.

__@Repository__ - —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –∫–ª–∞—Å—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–∏—Å–∫–æ–º, –ø–æ–ª—É—á–µ–Ω–∏–µ–º –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö. –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è 
–º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —à–∞–±–ª–æ–Ω–∞ DAO.

__@Service__ - —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –∫–ª–∞—Å—Å —è–≤–ª—è–µ—Ç—Å—è —Å–µ—Ä–≤–∏—Å–æ–º –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –±–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫–∏ (–Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –Ω–µ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç 
Component, –Ω–æ –ø—Ä–æ—Å—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É —É–∫–∞–∑–∞—Ç—å —Å–º—ã—Å–ª–æ–≤—É—é –Ω–∞–≥—Ä—É–∑–∫—É –∫–ª–∞—Å—Å–∞).

–î–ª—è —É–∫–∞–∑–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É –Ω–∞ –∫–ª–∞—Å—Å-–±–∏–Ω –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±—É—é –∏–∑ —ç—Ç–∏—Ö –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π. –ù–æ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∏–º–µ–Ω–∞ –ø–æ–∑–≤–æ–ª—è—é—Ç 
—Ä–∞–∑–ª–∏—á–∞—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ç–æ–≥–æ –∏–ª–∏ –∏–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞.

[–∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#Spring)

##  –ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è Bean –æ—Ç _Component?_
__@Component (–∏ @Service –∏ @Repository)__ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∏ 
–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ beans —Å –ø–æ–º–æ—â—å—é —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø—É—Ç–∏ –∫ –∫–ª–∞—Å—Å–∞–º. –°—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—è–≤–Ω–æ–µ
–≤–∑–∞–∏–º–Ω–æ –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –º–µ–∂–¥—É –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∫–ª–∞—Å—Å–æ–º –∏ bean 
(—Ç.–µ. –û–¥–∏–Ω bean –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞). –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≤–æ–¥–∫–æ–π –¥–æ–≤–æ–ª—å–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ —ç—Ç–∏–º 
–ø–æ–¥—Ö–æ–¥–æ–º, –ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω–æ —á–∏—Å—Ç–æ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–µ.

__@Bean__ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —è–≤–Ω–æ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –æ–¥–Ω–æ–≥–æ bean, –∞ –Ω–µ –¥–ª—è Spring –¥–µ–ª–∞—Ç—å —ç—Ç–æ 
–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –∫–∞–∫ —É–∫–∞–∑–∞–Ω–æ –≤—ã—à–µ. –û–Ω –æ—Ç–¥–µ–ª—è–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–µ bean –æ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–ª–∞—Å—Å–∞ –∏ 
–ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å beans —Ç–æ—á–Ω–æ, –∫–∞–∫ –≤—ã –≤—ã–±–∏—Ä–∞–µ—Ç–µ. @Bean –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è 
–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π spring –¥–æ–ª–∂–µ–Ω —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ bean –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ 
–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. —Ç–µ–ª–æ –º–µ—Ç–æ–¥–∞ –Ω–µ—Å–µ—Ç –ª–æ–≥–∏–∫—É, –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—É—é –∑–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞.

[–∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#Spring)

## –í —á—ë–º —Å–æ—Å—Ç–æ–∏—Ç —Ä–∞–∑–ª–∏—á–∏–µ –º–µ–∂–¥—É Spring –∏ Spring _Boot?_
__Spring Boot__ ‚Äì —ç—Ç–æ –æ–¥–∏–Ω –∏–∑ –º–Ω–æ–≥–æ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã Spring, –Ω–æ –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ 
—Å–≤–æ–∏—Ö ¬´—Å–æ–±—Ä–∞—Ç—å–µ–≤¬ª –æ–Ω –Ω–µ —Ä–µ—à–∞–µ—Ç –∫–∞–∫—É—é-–ª–∏–±–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∑–∞–¥–∞—á—É, –∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Å–∫–æ—Ä–µ–µ –Ω–æ–≤—ã–π —ç—Ç–∞–ø
—Ä–∞–∑–≤–∏—Ç–∏—è Spring –≤ —Ü–µ–ª–æ–º.

–¶–µ–ª—å Spring Boot —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º, —á—Ç–æ–±—ã —É–ø—Ä–æ—Å—Ç–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ Spring –ø—Ä–∏
–ø–æ–º–æ—â–∏ –∏—Ö —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —É–∂–µ –≥–æ—Ç–æ–≤—ã—Ö ¬´–Ω–∞–±–æ—Ä–æ–≤¬ª –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (—Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º—ã—Ö, 
¬´starter¬ª –ø–∞–∫–µ—Ç–æ–≤), –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –≤–∫–ª—é—á–∞—é—Ç ¬´–¥–∂–µ–Ω—Ç–µ–ª—å–º–µ–Ω—Å–∫–∏–π¬ª –Ω–∞–±–æ—Ä —Ç–æ–≥–æ, —á—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è
—Ç–æ–π –∏–ª–∏ –∏–Ω–æ–π –∑–∞–¥–∞—á–∏ –∏ —Å–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º.

–≠—Ç–æ –∏–∑–±–∞–≤–ª—è–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞ –Ω–µ —Ç–æ–ª—å–∫–æ –æ—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è –¥–ª–∏–Ω–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (–æ—Å–æ–±–µ–Ω–Ω–æ –≤ XML),
–Ω–æ –∏ –æ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã. –ß—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç 
—Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è –Ω–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –ø—Ä–∏–∫–ª–∞–¥–Ω–æ–≥–æ –∫–æ–¥–∞.

[–∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#Spring)

## –ö–ª—é—á–µ–≤—ã–µ —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É Spring –∏ Spring Boot Spring vs Spring Boot

**Spring** ‚Äî —ç—Ç–æ –±–æ–ª—å—à–æ–π –Ω–∞–±–æ—Ä –±–∏–±–ª–∏–æ—Ç–µ–∫ –∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤  
(Core, DI, MVC, Data, Security –∏ –¥—Ä.).

**Spring Boot** ‚Äî –Ω–∞–¥—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞–¥ Spring, –∫–æ—Ç–æ—Ä–∞—è —É–±–∏—Ä–∞–µ—Ç —Ä—É—á–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É  
–∏ –¥–∞—ë—Ç **¬´–∑–∞–ø—É—Å–∫ –∏–∑ –∫–æ—Ä–æ–±–∫–∏¬ª**.

---

### –ß–µ–º Spring Boot —É–¥–æ–±–Ω–µ–µ

### –ê–≤—Ç–æ–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
Spring Boot –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –±–∏–Ω—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ:
- –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ `classpath`
- –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ü—Ä–∏–º–µ—Ä:  
–ø–æ–¥–∫–ª—é—á–∏–ª `spring-boot-starter-data-jpa` ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è  
`EntityManager`, `DataSource`, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏ —Ç.–¥.

---

### Starters
–ì–æ—Ç–æ–≤—ã–µ **–ø–∞–∫–µ—Ç—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∑–∞–¥–∞—á—É:
- `web`
- `security`
- `data-jpa`
- `test`

‚û°Ô∏è –ò–∑–±–∞–≤–ª—è—é—Ç –æ—Ç —Ä—É—á–Ω–æ–≥–æ –ø–æ–¥–±–æ—Ä–∞ –∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è –≤–µ—Ä—Å–∏–π –±–∏–±–ª–∏–æ—Ç–µ–∫.

---

### –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
Tomcat / Jetty / Netty –≤—Å—Ç—Ä–æ–µ–Ω—ã –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

### –ï–¥–∏–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥
- `application.yml / application.properties`
- `–ø—Ä–æ—Ñ–∏–ª–∏: dev, prod`
- `—É–¥–æ–±–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è`


### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
- `—Ñ–∏–∫—Å–∏—Ä—É–µ—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –≤–µ—Ä—Å–∏–∏`
- `—É–º–µ–Ω—å—à–∞–µ—Ç dependency hell`
- `—É–ø—Ä–æ—â–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è`

### –ö–æ–≥–¥–∞ –≤—ã–±–∏—Ä–∞—Ç—å Spring Boot

–í—ã–±–∏—Ä–∞–π **Spring Boot –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞**, –µ—Å–ª–∏ —Ç—ã:

- –ø–∏—à–µ—à—å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å / REST API / –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ / –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å;
- —Ö–æ—á–µ—à—å –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É;
- –Ω—É–∂–¥–∞–µ—à—å—Å—è –≤ production-—Ñ–∏—á–∞—Ö:
   - health checks
   - metrics
   - –∫–æ–Ω—Ñ–∏–≥–∏ –ø–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è–º
   - —É–¥–æ–±–Ω—ã–π –¥–µ–ø–ª–æ–π;
- –Ω–µ —Ö–æ—á–µ—à—å —Ç—Ä–∞—Ç–∏—Ç—å –≤—Ä–µ–º—è –Ω–∞ —Ä—É—á–Ω—É—é —Å–±–æ—Ä–∫—É –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞.

‚û°Ô∏è **–≠—Ç–æ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ Spring.**

---

### –ö–æ–≥–¥–∞ –≤—ã–±–∏—Ä–∞—Ç—å ¬´—á–∏—Å—Ç—ã–π Spring¬ª (–±–µ–∑ Boot)

–ò–º–µ–µ—Ç —Å–º—ã—Å–ª, –µ—Å–ª–∏:

- –Ω—É–∂–µ–Ω –æ—á–µ–Ω—å —Å—Ç—Ä–æ–≥–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–º —Å—Ç–∞—Ä—Ç–∞  
  (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –∫–æ–º–ø–∞–Ω–∏–∏);
- –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤–æ –≤–Ω–µ—à–Ω–∏–π application server  
  –ø–æ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º  
  (—Ö–æ—Ç—è Spring Boot —É–º–µ–µ—Ç —ç—Ç–æ —á–µ—Ä–µ–∑ WAR);
- —Ç—Ä–µ–±—É–µ—Ç—Å—è –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è ¬´–º–∞–≥–∏—è¬ª –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —è–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è  
  (–¥–ª—è –æ–±—É—á–µ–Ω–∏—è –∏–ª–∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö —Å—Ä–µ–¥);
- —Ç—ã –ø–∏—à–µ—à—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É –∏–ª–∏ SDK, –∞ –Ω–µ –∫–æ–Ω–µ—á–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ  
  (Spring Boot –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ —á–∞—â–µ –ª–∏—à–Ω–∏–π).

---

### –í–∞–∂–Ω—ã–π –Ω—é–∞–Ω—Å

Spring Boot **–Ω–µ –∑–∞–º–µ–Ω—è–µ—Ç Spring** ‚Äî –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Spring –∏ –ø—Ä–æ—Å—Ç–æ:

- –¥–æ–±–∞–≤–ª—è–µ—Ç –∞–≤—Ç–æ–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é;
- –∑–∞–¥–∞—ë—Ç —Ä–∞–∑—É–º–Ω—ã–µ –¥–µ—Ñ–æ–ª—Ç—ã;
- —É–ø—Ä–æ—â–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –∑–∞–ø—É—Å–∫.


[–∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#Spring)



## @Transactional

–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è @Transactional ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏, —á–∞—â–µ –≤—Å–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –≤ Spring-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö, –∫–æ—Ç–æ—Ä—ã–π 
–ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å, —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å (commit) –∏–ª–∏ –æ—Ç–∫–∞—Ç—ã–≤–∞—Ç—å (rollback) —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –º–µ—Ç–æ–¥–æ–≤.
---

### –ß—Ç–æ —Ç–∞–∫–æ–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è (–∫—Ä–∞—Ç–∫–æ)

–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è ‚Äî —ç—Ç–æ –ª–æ–≥–∏—á–µ—Å–∫–∞—è –µ–¥–∏–Ω–∏—Ü–∞ —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏, –∫–æ—Ç–æ—Ä–∞—è –¥–æ–ª–∂–Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–∞–º ACID:

- Atomicity ‚Äî –ª–∏–±–æ –≤—Å—ë –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –ª–∏–±–æ –Ω–∏—á–µ–≥–æ
- Consistency ‚Äî –¥–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–º–∏
- Isolation ‚Äî –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–µ –º–µ—à–∞—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥—É
- Durability ‚Äî –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è

---
### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç @Transactional

–ö–æ–≥–¥–∞ —Ç—ã –ø–æ–º–µ—á–∞–µ—à—å –º–µ—Ç–æ–¥ –∏–ª–∏ –∫–ª–∞—Å—Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π @Transactional, Spring –±–µ—Ä–µ—Ç –Ω–∞ —Å–µ–±—è:

1. –û—Ç–∫—Ä—ã—Ç–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –º–µ—Ç–æ–¥–∞
2. Commit ‚Äî –µ—Å–ª–∏ –º–µ—Ç–æ–¥ –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —É—Å–ø–µ—à–Ω–æ
3. Rollback ‚Äî –µ—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–æ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ (–ø–æ –ø—Ä–∞–≤–∏–ª–∞–º)

--- 

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏ Spring
1. Spring —Å–æ–∑–¥–∞–µ—Ç –ø—Ä–æ–∫—Å–∏-–æ–±—ä–µ–∫—Ç –≤–æ–∫—Ä—É–≥ –±–∏–Ω–∞
2. –í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏
3. –ü—Ä–æ–∫—Å–∏:
- –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
- –≤—ã–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥
- –¥–µ–ª–∞–µ—Ç commit –∏–ª–∏ rollback

Client

‚Üì

Spring Proxy


‚Üì  (open transaction)

Target Method

‚Üì

Spring Proxy

‚Üì  

(commit / rollback)


‚ö†Ô∏è –í–∞–∂–Ω–æ: –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ –≤–Ω—É—Ç—Ä–∏ —Ç–æ–≥–æ –∂–µ –∫–ª–∞—Å—Å–∞ (self-invocation) –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏ ‚Üí @Transactional –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç.

---

### –ö–∞–∫–∏–µ –ø—Ä–æ–∫—Å–∏ –±—ã–≤–∞—é—Ç

1Ô∏è‚É£ JDK Dynamic Proxy (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –µ—Å–ª–∏ –µ—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
- –ü—Ä–æ–∫—Å–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
- –í—ã–∑–æ–≤—ã —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

```java
public interface UserService {
    void createUser();
}
```
2Ô∏è‚É£ CGLIB Proxy
- –ü—Ä–æ–∫—Å–∏ –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç –∫–ª–∞—Å—Å–∞
- –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- –ù–µ –º–æ–∂–µ—Ç –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å final –º–µ—Ç–æ–¥—ã
```java
@Service
@Transactional
public class UserService {
}

```
---
–ì–ª–∞–≤–Ω—ã–π –ø–æ–¥–≤–æ–¥–Ω—ã–π –∫–∞–º–µ–Ω—å ‚ùó self-invocation

```java
@Service
public class OrderService {

    @Transactional
    public void outer() {
        inner(); // ‚ùå —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–µ –±—É–¥–µ—Ç
    }

    @Transactional
    public void inner() {
        // ...
    }
}
```
–ü–æ—á–µ–º—É?

- inner() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é
- –ü—Ä–æ–∫—Å–∏ –Ω–µ —É—á–∞—Å—Ç–≤—É–µ—Ç
- @Transactional –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è

üìå –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏.

---
### –ö–∞–∫ —ç—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å
‚úÖ –í—ã–Ω–µ—Å—Ç–∏ –º–µ—Ç–æ–¥ –≤ –¥—Ä—É–≥–æ–π –±–∏–Ω
```java
@Service
public class InnerService {
    @Transactional
    public void inner() {}
}

```

‚úÖ –í—ã–∑—ã–≤–∞—Ç—å —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏

```java
@Autowired
private OrderService self;

self.inner(); // —Ç–µ–ø–µ—Ä—å —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏

```
---
### –ì–¥–µ –∏–º–µ–Ω–Ω–æ –∂–∏–≤—ë—Ç –ª–æ–≥–∏–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

–í Spring —ç—Ç–æ:

- TransactionInterceptor
- PlatformTransactionManager

–†–∞–±–æ—Ç–∞–µ—Ç –ø–æ–≤–µ—Ä—Ö:

- JDBC
- JPA / Hibernate

### –ö–æ—Ä–æ—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ

- @Transactional = Spring AOP + –ø—Ä–æ–∫—Å–∏
- –ü—Ä–æ–∫—Å–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç/–∑–∞–∫—Ä—ã–≤–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
- –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏
- Self-invocation = —Å–∞–º–∞—è —á–∞—Å—Ç–∞—è –æ—à–∏–±–∫–∞

–û–¥–Ω–∞ —Ñ—Ä–∞–∑–∞ –¥–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è

__@Transactional –≤ Spring —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —á–µ—Ä–µ–∑ AOP-–ø—Ä–æ–∫—Å–∏: —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –≤ –ø—Ä–æ–∫—Å–∏, –ø–æ—ç—Ç–æ–º—É –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è –Ω–µ 
—Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –≤—ã–∑–æ–≤–∞—Ö –º–µ—Ç–æ–¥–æ–≤ –æ–¥–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞.__

---

### –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
–ß–∞—â–µ –≤—Å–µ–≥–æ –≤ —Å–µ—Ä–≤–∏—Å–Ω–æ–º —Å–ª–æ–µ:
```java
@Service
@Transactional
public class OrderService {
    public void createOrder() {
        // —Ä–∞–±–æ—Ç–∞ —Å –ë–î
    }
}
```

--- 

–∏–ª–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–µ—Ç–æ–¥–∞:
```java
@Transactional
public void saveUser(User user) {
    userRepository.save(user);
}
```

---

### –ö–æ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç rollback

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é

1 ‚ùå Rollback —Ç–æ–ª—å–∫–æ –¥–ª—è unchecked –∏—Å–∫–ª—é—á–µ–Ω–∏–π:
- RuntimeException
- Error
- 
2 ‚úÖ Checked –∏—Å–∫–ª—é—á–µ–Ω–∏—è (Exception) –Ω–µ –≤—ã–∑—ã–≤–∞—é—Ç rollback

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ rollback

```java
@Transactional(rollbackFor = Exception.class)
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã @Transactional

| –ü–∞—Ä–∞–º–µ—Ç—Ä        | –û–ø–∏—Å–∞–Ω–∏–µ                         |
| --------------- | -------------------------------- |
| `propagation`   | –ö–∞–∫ –º–µ—Ç–æ–¥ —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ |
| `isolation`     | –£—Ä–æ–≤–µ–Ω—å –∏–∑–æ–ª—è—Ü–∏–∏                 |
| `readOnly`      | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è —á—Ç–µ–Ω–∏—è           |
| `timeout`       | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏    |
| `rollbackFor`   | –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è rollback          |
| `noRollbackFor` | –ò—Å–∫–ª—é—á–µ–Ω–∏—è –±–µ–∑ rollback          |

---
### Propagation (—Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ)

–ù–∞–∏–±–æ–ª–µ–µ –≤–∞–∂–Ω—ã–µ:
- REQUIRED (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ–∫—É—â—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –∏–ª–∏ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é
- REQUIRES_NEW ‚Äî –≤—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
- SUPPORTS ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–µ–π, –µ—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å
- MANDATORY ‚Äî —Ç—Ä–µ–±—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é

---
### Isolation (–∏–∑–æ–ª—è—Ü–∏—è)

–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —É—Ä–æ–≤–Ω—è–º SQL:

- READ_UNCOMMITTED
- READ_COMMITTED (—á–∞—Å—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- REPEATABLE_READ
- SERIALIZABLE

### ReadOnly


```java
@Transactional(readOnly = true)
```

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤
- –ú–æ–∂–µ—Ç –¥–∞—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ Hibernate)
- ‚ùå –ù–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–∞–ø–∏—Å–∏, —ç—Ç–æ –ø–æ–¥—Å–∫–∞–∑–∫–∞, –∞ –Ω–µ –∑–∞—â–∏—Ç–∞

### –í–∞–∂–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –ø–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏
- ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –≤—ã–∑–æ–≤–µ –º–µ—Ç–æ–¥–∞ –≤–Ω—É—Ç—Ä–∏ —Ç–æ–≥–æ –∂–µ –∫–ª–∞—Å—Å–∞
- ‚ùå –ù–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ private –º–µ—Ç–æ–¥–∞–º
- ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ Spring-–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- ‚ö†Ô∏è Rollback –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥–ª—è checked-–∏—Å–∫–ª—é—á–µ–Ω–∏–π –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚ö†Ô∏è @Transactional –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç proxy-—Ç–∏–ø–∞)




Spring –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ–π –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏. –í–∞–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ
–¥–æ–±–∞–≤–∏—Ç—å @org.springframework.transaction.annotation. Transactional –∫ –ø—É–±–ª–∏—á–Ω–æ–º—É —Å–µ—Ä–≤–∏—Å–Ω–æ–º—É
–º–µ—Ç–æ–¥—É, –∏ –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤–Ω—É—Ç—Ä–∏ —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞ –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏. –ü—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ 
–º–µ—Ç–æ–¥–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –±—É–¥–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∞ (–æ–ø–µ—Ä–∞—Ü–∏—è commit –≤ —Ç–µ—Ä–º–∏–Ω–∞—Ö –ë–î) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –ï—Å–ª–∏ –≤ 
–ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–±–æ—Ç—ã –≤–æ–∑–Ω–∏–∫–Ω–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –∏ –æ–Ω–æ –Ω–µ –±—É–¥–µ—Ç –ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–æ –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è
–±—É–¥–µ—Ç –æ—Ç–º–µ–Ω–µ–Ω–∞ (–æ–ø–µ—Ä–∞—Ü–∏—è rollback) –∏ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ —Ç–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–∏ 
–±—ã–ª–∏ –¥–æ –Ω–∞—á–∞–ª–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.

–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —É –Ω–∞—Å –µ—Å—Ç—å –º–µ—Ç–æ–¥ –≤ —Å–ø—Ä–∏–Ω–≥–æ–≤–æ–º —Å–µ—Ä–≤–∏—Å–µ, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –ë–î. –î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –º–æ–∂–Ω–æ 
–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Spring Data, —á—Ç–æ–±—ã –æ–ø–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø–∏—Å—è–º–∏ –≤ –ë–î –≤ –û–û–ü —Å—Ç–∏–ª–µ.

–°–∞–º–∞ —Å—É—â–Ω–æ—Å—Ç—å, –∫–æ—Ç–æ—Ä—É—é –º—ã —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –±–∞–∑—É, –∏–º–µ–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π –≤–∏–¥:

```java
@Entity
public class Record {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private int id;
    private String name;

    // get- –∏ set-–º–µ—Ç–æ–¥—ã...
}
```
–°–ª–æ–π dao, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π –±–∞–∑–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ –≤ –ë–î –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:

```java
public interface ExampleDao extends CrudRepository<Record, Integer> {
}
```

–¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–¥–∏–º –º–µ—Ç–æ–¥ –≤ —Å–µ—Ä–≤–∏—Å–Ω–æ–º —Å–ª–æ–µ, –∫–æ—Ç–æ—Ä—ã–π —Å–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞—ë—Ç —Å—É—â–Ω–æ—Å—Ç—å, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –µ—ë –≤ –ë–î, –∑–∞—Ç–µ–º –æ–±–Ω–æ–≤–ª—è–µ—Ç –µ—ë –∏–º—è. 
–¢–æ –µ—Å—Ç—å —Å–Ω–∞—á–∞–ª–∞ –≤ –ë–î –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–∞–ø—Ä–æ—Å insert, –∑–∞—Ç–µ–º update.

```java
@Service
public class ExampleService {

    private final ExampleDao exampleDao;

    public ExampleService(ExampleDao exampleDao) {
        this.exampleDao = exampleDao;
    }

    public void doTransaction() {
        var record = new Record();
        record.setName("created");
        exampleDao.save(record); // insert
        record.setName("updated");
        exampleDao.save(record); // update
    }
}
```
–°–µ—Ä–≤–∏—Å–Ω—ã–π –º–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –ø—Ä–∏ –ø–æ–º–æ—â–∏ POST-–∑–∞–ø—Ä–æ—Å–∞:

```java
@RestController
public class ExampleController {

    private final ExampleService exampleService;

    public ExampleController(ExampleService exampleService) {
        this.exampleService = exampleService;
    }

    @PostMapping
    public void doTransaction() {
        exampleService.doTransaction();
    }
}
```

–î–∞–Ω–Ω—ã–π –∫–æ–¥ –≤—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫. –ê —Ç–µ–ø–µ—Ä—å –¥–æ–±–∞–≤–∏–º –º–µ–∂–¥—É —Å–æ–∑–¥–∞–Ω–∏–µ–º –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –∑–∞–ø–∏—Å–∏ –≤ –ë–î –æ—à–∏–±–∫—É.

```java
public void doTransaction() {
    var record = new Record();
    record.setName("created");
    exampleDao.save(record);
    if (record.getId() > 0) {
        throw new RuntimeException();
    }
    record.setName("updated");
    exampleDao.save(record);
}
```

–ï—Å–ª–∏ –º—ã –≤—ã–ø–æ–ª–Ω–∏–º –¥–∞–Ω–Ω—ã–π –∫–æ–¥, —Ç–æ —É–≤–∏–¥–∏–º, —á—Ç–æ –Ω–æ–≤–∞—è –∑–∞–ø–∏—Å—å –±—ã–ª–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ —Ç–∞–±–ª–∏—Ü—É, –Ω–æ –¥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–µ–ª–æ —É–∂–µ –Ω–µ –¥–æ—à–ª–æ. 
–ß—Ç–æ–±—ã –¥–µ—Ä–∂–∞—Ç—å –Ω–∞—à–∏ –¥–∞–Ω–Ω—ã–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–º–∏, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫ –º–µ—Ç–æ–¥—É –≤—ã—à–µ—É–ø–æ–º—è–Ω—É—Ç—É—é –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é:

```java
@Transactional
public void doTransaction() {
    var record = new Record();
    record.setName("created");
    exampleDao.save(record);
    if (record.getId() > 0) {
        throw new RuntimeException();
    }
    record.setName("updated");
    exampleDao.save(record);
}
```

–í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –ø–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω, –∞ –ø–æ—Ç–æ–º –æ—Ç–º–µ–Ω—ë–Ω –∏ –≤ —Ç–∞–±–ª–∏—Ü–µ –≤ –ë–î –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π —Ç–∞–∫ –∏ –Ω–µ –ø–æ—è–≤–∏—Ç—Å—è.

–ë—ã–≤–∞—é—Ç —Ç–∞–∫–∏–µ –æ—à–∏–±–∫–∏, –ø—Ä–∏ –∫–æ—Ç–æ—Ä—ã—Ö –æ—Ç–∫–∞—Ç—ã–≤–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è. –≠—Ç–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å –ø—Ä–∏ –ø–æ–º–æ—â–∏ 
–ø–∞—Ä–∞–º–µ—Ç—Ä–∞ dontRollbackOn:

```java
@Transactional(dontRollbackOn = {RuntimeException.class})
```
–ï—Å–ª–∏ –º—ã —Å–¥–µ–ª–∞–µ–º —Ç–∞–∫ –¥–ª—è –Ω–∞—à–µ–≥–æ –ø—Ä–∏–º–µ—Ä–∞, —Ç–æ –∑–∞–ø–∏—Å—å –≤—Å—ë-—Ç–∞–∫–∏ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞, –∑–∞—Ç–µ–º –≤–æ–∑–Ω–∏–∫–Ω–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —É–∂–µ –Ω–µ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç, –Ω–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤—Å—ë —Ä–∞–≤–Ω–æ –±—É–¥–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∞.

–ö–∞–∫ Spring —Ä–µ–∞–ª–∏–∑—É–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º —Å–æ–∑–¥–∞–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π? –í–∞–∂–Ω–æ –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ @Transactional –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö
–º–µ—Ç–æ–¥–æ–≤, –≤—ã–∑—ã–≤–∞–µ–º—ã—Ö –∏–∑ –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Ç–æ–º—É —á—Ç–æ —Å–ø—Ä–∏–Ω–≥ –¥–µ–ª–∞–µ—Ç –≤—ã–∑–æ–≤ —Ü–µ–ª–µ–≤–æ–≥–æ –º–µ—Ç–æ–¥–∞ —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏-–æ–±—ä–µ–∫—Ç, 
–∏–º–µ—é—â–∏–π —Ç–∞–∫–æ–π –∂–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∫–∞–∫ –∏ –Ω–∞—à —Å–µ—Ä–≤–∏—Å. –í —ç—Ç–æ–º –ø—Ä–æ–∫—Å–∏-–æ–±—ä–µ–∫—Ç–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—Ç–∫—Ä—ã—Ç–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º —Ü–µ–ª–µ–≤–æ–≥–æ 
–º–µ—Ç–æ–¥–∞. –ó–∞—Ç–µ–º, –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ü–µ–ª–µ–≤–æ–≥–æ –º–µ—Ç–æ–¥–∞, –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–∞–∫—Ä—ã—Ç–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏. –ï—Å–ª–∏ –∏–∑ –º–µ—Ç–æ–¥–∞ –≤—ã–ª–µ—Ç–∏—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, 
—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –±—É–¥–µ—Ç –æ—Ç–º–µ–Ω–µ–Ω–∞. –≠—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ—Ö–æ–∂–µ –Ω–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—é try-catch. –ú–æ–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å —Å–µ–±–µ –ª–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–∫—Å–∏ —Ç–∞–∫:

```java
try {
    // –æ—Ç–∫—Ä—ã—Ç–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
    // –≤—ã–∑–æ–≤ —Ü–µ–ª–µ–≤–æ–≥–æ –º–µ—Ç–æ–¥–∞
    // commit
} catch (Exception e) {
    // rollback
}
```

–ï—Å–ª–∏ –≤—ã –ø–æ–≤–µ—Å–∏—Ç–µ @Transactional –Ω–∞ –∫–∞–∫–æ–π-–ª–∏–±–æ –º–µ—Ç–æ–¥ –∏ –≤—ã–∑–æ–≤–µ—Ç–µ –µ–≥–æ –∏–∑ —Ç–æ–≥–æ –∂–µ —Å–µ—Ä–≤–∏—Å–∞, –Ω–æ –∏–∑ –¥—Ä—É–≥–æ–≥–æ –º–µ—Ç–æ–¥–∞, –º–µ—Ö–∞–Ω–∏–∑–º 
—Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ –±—É–¥–µ—Ç, —Ç.–∫. –≤—ã–∑–æ–≤ –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏. –≠—Ç–æ –Ω–∞–¥–æ –∏–º–µ—Ç—å –≤ –≤–∏–¥—É.

```java
@Service
public class ExampleService {

    public void doWrongTransaction() {
        doTransaction(); // —Ç–∞–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ –±—É–¥–µ—Ç!
    }

    @Transactional
    public void doTransaction() {
        // —Ä–∞–±–æ—Ç–∞ —Å –ë–î
    }
}
```

–í–∑—è—Ç–æ –æ—Ç —Å—é–¥–∞ (https://devmark.ru/article/spring-transaction-management)


[–∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#Spring)

## JDBC, JPA, Hibernate, Spring Data Jpa
__JDBC__ ‚Äî —ç—Ç–æ –º–æ—Å—Ç –º–µ–∂–¥—É –º–∏—Ä–æ–º Java –∏ –º–∏—Ä–æ–º –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö. –í–µ–¥—å –ø–µ—Ä–≤–æ–µ, —á—Ç–æ –º—ã –∏—â–µ–º –∫–æ–≥–¥–∞ —Ö–æ—Ç–∏–º 
–ø–æ–¥–∫–ª—é—á–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∫ –Ω–∞—à–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é ‚Äî jdbc –¥—Ä–∞–π–≤–µ—Ä. –ï—Å–ª–∏ –º—ã —Ä–∞–±–æ—Ç–∞–µ–º —Å Maven, —Ç–æ–≥–¥–∞ –º—ã 
–∏—â–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –¥–ª—è –¥—Ä–∞–π–≤–µ—Ä–∞ –∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –±–∞–∑–µ.

–û–¥–Ω–∏–º –∏–∑ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–æ–≤ JDBC —è–≤–ª—è–µ—Ç—Å—è —Ç–æ, —á—Ç–æ –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ª—É—á–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Ü–µ ‚Äî –≤—ã–≥–ª—è–¥–∏—Ç –æ—á–µ–Ω—å –±–æ–ª—å—à–∏–º
–ø–æ –æ–±—ä–µ–º—É (—Ö–æ—Ç—è —Ä–∞–±–æ—Ç—ã –æ–Ω –≤—ã–ø–æ–ª–Ω—è–µ—Ç –Ω–µ –º–Ω–æ–≥–æ). –¢–∞–∫–∂–µ, –æ—á–µ–Ω—å —Å–ª–æ–∂–Ω–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è, –∫–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç –¥–∂–∞–≤–∞ 
–∫–æ—Ç–æ—Ä—ã–π –º—ã –ø—ã—Ç–∞–µ–º—Å—è —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –±–∞–∑–µ –∏–ª–∏ –¥–æ—Å—Ç–∞—Ç—å ‚Äî –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–æ–ª—å—à–æ–π.

JPA –ø—Ä–∏–∑–≤–∞–Ω–∞ —É—Å—Ç—Ä–∞–Ω–∏—Ç—å –≤—ã—à–µ–ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–µ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏.

__Java Persistence API__ ‚Äî —ç—Ç–æ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–¥–æ–±–Ω–æ –º–∞–ø–∏—Ç—å –æ–±—ä–µ–∫—Ç Java –∏ —Ç–∞–±–ª–∏—Ü—É 
–±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –í JDBC –ø—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞, –í–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å –≤ –∫–æ–¥–µ –≤—Å–µ –¥–µ—Ç–∞–ª–∏, 
–Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π CRUD, —Ç–∞–∫–∏–µ –∫–∞–∫ –∏–º–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü, –∏–º–µ–Ω–∞ —Å—Ç–æ–ª–±—Ü–æ–≤. –í JPA (–∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç 
JDBC ¬´–ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º¬ª) –í—ã —Ç–∞–∫–∂–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç–µ —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ, –Ω–æ —É–∂–µ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑, –∫–æ–≥–¥–∞ –Ω–∞–≤–µ—à–∏–≤–∞–µ—Ç–µ 
–∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –Ω–∞ Java –∫–ª–∞—Å—Å. –°–∞–º–∞ –ø–æ —Å–µ–±–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è JPA –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –∏–ª–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–º; —Å–∫–æ—Ä–µ–µ, –æ–Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç 
–Ω–∞–±–æ—Ä –∫–æ–Ω—Ü–µ–ø—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –ª—é–±—ã–º –¥—Ä—É–≥–∏–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º.
–¢–∞–∫ –∫–∞–∫ JPA ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è, –í–∞–º –Ω—É–∂–µ–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –µ–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏. –≠—Ç–∏–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º 
–º–æ–∂–µ—Ç –±—ã—Ç—å Hibernate, TopLink, iBatis –∏ —Ç. –¥.

__Hibernate__ —Å–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π ORM (Object Relational Mapping) —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.
–í—ã –º–æ–∂–µ—Ç–µ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å JPA –∫–∞–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∞ Hibernate ‚Äî –∫–∞–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é. –ë–µ–∑ Hibernate, –æ—Ç JPA –≤ 
–í–∞—à–µ–º –∫–æ–¥–µ –±—É–¥–µ—Ç –º–∞–ª–æ –ø–æ–ª–µ–∑–Ω–æ—Å—Ç–∏. –•–æ—Ç—è –∫–∞–∫ Hibernate —Ç–∞–∫ –∏ JPA –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ 
—Å–≤—è–∑–∫–µ —Å –¥—Ä—É–≥–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏.

–¶–µ–ª—å Spring Data ‚Äî —É–º–µ–Ω—å—à–∏—Ç—å –æ–±—ä–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –∫–æ–¥–∞, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —É—Ä–æ–≤–Ω–µ–π –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º 
–¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö.

__Spring Data JPA__ ‚Äî —ç—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –¥–æ–±–∞–≤–ª—è–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –ø–æ–≤–µ—Ä—Ö 
ORM —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ JPA. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é Spring Data JPA –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Hibernate, –≤ –∫–∞—á–µ—Å—Ç–≤–µ ORM –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ 
(—á—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã). –≠—Ç–æ, –∫—Å—Ç–∞—Ç–∏, –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –∏—Å–ø–æ–ª—å–∑—É—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Spring. –•–æ—Ç—è –¥–µ–ª–∞—Ç—å 
—ç—Ç–æ –Ω–µ–æ–ø—ã—Ç–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —è –±—ã –Ω–µ —Å–æ–≤–µ—Ç–æ–≤–∞–ª.

–ï—Å–ª–∏ –í—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Spring Boot –≤–º–µ—Å—Ç–µ —Å Spring Data JPA, —Ç–æ –∏–º–µ–µ—Ç–µ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ 
–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è Java –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö ‚Äú–∏–∑ –∫–æ—Ä–æ–±–∫–∏‚Äù. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ, —á—Ç–æ –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å ‚Äî —ç—Ç–æ 
—Ö–æ—Å—Ç –¥–ª—è –í–∞—à–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–∞—Ä–æ–ª—å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –Ω–µ–π. Spring Boot –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç 
–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É –¥–ª—è –≤—Å–µ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ. –í —Ç–æ–º —á–∏—Å–ª–µ –∏ –ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π.

![icon](resources/jpa-jdbc.png)

[–∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#Spring)

## JPA –∑–∞—á–µ–º –Ω–∞–¥–æ Fetch
Fetch –≤ JPA (Java Persistence API) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. 
–ö–æ–≥–¥–∞ —É –≤–∞—Å –µ—Å—Ç—å –æ–±—ä–µ–∫—Ç —Å—É—â–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–π –∏–º–µ–µ—Ç —Å–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–≤—è–∑—å –º–Ω–æ–≥–∏–µ-–∫-–æ–¥–Ω–æ–º—É –∏–ª–∏ –æ–¥–∏–Ω-–∫-–æ–¥–Ω–æ–º—É),
fetch –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–∫–∞–∑–∞—Ç—å, –∫–æ–≥–¥–∞ –∏ –∫–∞–∫ —ç—Ç–∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–≥—Ä—É–∂–µ–Ω—ã.

Fetch –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –±—É–¥—É—Ç –ª–∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã —Å—Ä–∞–∑—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –æ—Å–Ω–æ–≤–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ –∏–ª–∏ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ –Ω–∏–º.
–û–Ω –≤–ª–∏—è–µ—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –æ–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã—Ö –º–µ–∂–¥—É –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º. –°—Ç—Ä–∞—Ç–µ–≥–∏—è fetch –º–æ–∂–µ—Ç –±—ã—Ç—å 
eager (—Å—Ä–∞–∑—É) –∏–ª–∏ lazy (–ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é).

Eager fetch (–∂–∞–¥–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞) –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ —Å—Ä–∞–∑—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –æ—Å–Ω–æ–≤–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ, 
–µ—Å–ª–∏ –≤—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –≤–º–µ—Å—Ç–µ —Å –æ—Å–Ω–æ–≤–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç—å—é, –Ω–æ —ç—Ç–æ —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏
–∫ –∏–∑–±—ã—Ç–æ—á–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö. Lazy fetch (–ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞) –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ —Ç–æ–ª—å–∫–æ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ –æ–Ω–∏ 
–∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç—Å—è –∏–∑ –∫–æ–¥–∞. –≠—Ç–æ –º–æ–∂–µ—Ç —É–ª—É—á—à–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –æ—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ —Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è.
–í—ã–±–æ—Ä –º–µ–∂–¥—É eager –∏ lazy fetch –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

[–∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#Spring)

## Criteria API
Criteria API - —ç—Ç–æ –Ω–∞–±–æ—Ä –∫–ª–∞—Å—Å–æ–≤ –∏ –º–µ—Ç–æ–¥–æ–≤ –≤ Java, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –≤ JPA
(Java Persistence API). –û–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –±–µ–∑ —è–≤–Ω–æ–≥–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—è SQL-–∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å—Ç—Ä–æ–∫–∞—Ö.
–ó–∞—á–µ–º –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Criteria API:
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ç–∏–ø–æ–≤: Criteria API —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ –∏ —Ç–∏–ø–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã—è–≤–ª—è—Ç—å –æ—à–∏–±–∫–∏ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, 
–∞ –Ω–µ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω—ã–º –∏ –º–µ–Ω–µ–µ –ø–æ–¥–≤–µ—Ä–∂–µ–Ω–Ω—ã–º –æ—à–∏–±–∫–∞–º.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤: Criteria API –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å—Ç—Ä–æ–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Å–ª–æ–≤–∏–π, —á—Ç–æ 
–æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–æ, –∫–æ–≥–¥–∞ —Ñ–∏–ª—å—Ç—Ä—ã –∏–ª–∏ —É—Å–ª–æ–≤–∏—è –∑–∞–ø—Ä–æ—Å–∞ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–µ—Ç–∞–º–æ–¥–µ–ª–∏: Criteria API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–µ—Ç–∞–º–æ–¥–µ–ª—å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∞—Ç—Ä–∏–±—É—Ç–∞–º —Å—É—â–Ω–æ—Å—Ç–µ–π –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö
–∏–º–µ–Ω –ø–æ–ª–µ–π, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–º –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–º.

–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Criteria API:

- –ü–æ–ª—É—á–µ–Ω–∏–µ CriteriaBuilder: –°–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä CriteriaBuilder –∏–∑ EntityManager. –≠—Ç–æ—Ç –æ–±—ä–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
–¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ –∑–∞–ø—Ä–æ—Å–∞ –∏ –ø—Ä–µ–¥–∏–∫–∞—Ç–æ–≤.
- –°–æ–∑–¥–∞–Ω–∏–µ CriteriaQuery: –ó–∞—Ç–µ–º —Å–æ–∑–¥–∞–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç CriteriaQuery, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∫–æ—Ä–Ω–µ–≤–æ–π –∑–∞–ø—Ä–æ—Å. –û–Ω —É–∫–∞–∑—ã–≤–∞–µ—Ç,
–∫–∞–∫–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—Å–ª–æ–≤–∏–π –∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤: –ò—Å–ø–æ–ª—å–∑—É—è CriteriaBuilder, –≤—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–µ–¥–∏–∫–∞—Ç—ã (—É—Å–ª–æ–≤–∏—è) –∏ –¥–æ–±–∞–≤–ª—è—Ç—å –∏—Ö –∫ 
CriteriaQuery. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞–ø—Ä–æ—Å–∞ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –≤–∞—à–∏–º–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏.
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞: –ò –Ω–∞–∫–æ–Ω–µ—Ü, –∑–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é EntityManager, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–ø—Ä–æ—Å CriteriaQuery –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

–ü—Ä–∏–º–µ—Ä:
```java
CriteriaBuilder cb = entityManager.getCriteriaBuilder();
CriteriaQuery<Employee> query = cb.createQuery(Employee.class);

Root<Employee> root = query.from(Employee.class);
query.select(root);

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—Å–ª–æ–≤–∏—è
query.where(cb.equal(root.get("department"), "IT"));

List<Employee> result = entityManager.createQuery(query).getResultList();

```
–≠—Ç–æ –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–±–∏—Ä–∞–µ—Ç –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏–∑ –æ—Ç–¥–µ–ª–∞ IT. –° Criteria API –≤—ã –º–æ–∂–µ—Ç–µ —Å—Ç—Ä–æ–∏—Ç—å –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã,
–∏—Å–ø–æ–ª—å–∑—É—è —Ä–∞–∑–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã CriteriaBuilder –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–µ–¥–∏–∫–∞—Ç–æ–≤ –∏ —É—Å–ª–æ–≤–∏–π.

[–∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#Spring)

## –ß—Ç–æ —Ç–∞–∫–æ–µ Spring _MVC?_

<img src="./resources/s_mvc.jpg" width="500" height="400"/>

–§—Ä–µ–π–º–≤–æ—Ä–∫ Spring MVC –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Model ‚Äî View ‚Äî Controller (–ú–æ–¥–µ–ª—å ‚Äî –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–¥–∞–ª–µ–µ ‚Äî –í–∏–¥) ‚Äî –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä) 
–ø—Ä–∏ –ø–æ–º–æ—â–∏ —Å–ª–∞–±–æ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –ü–∞—Ç—Ç–µ—Ä–Ω MVC —Ä–∞–∑–¥–µ–ª—è–µ—Ç –∞—Å–ø–µ–∫—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–ª–æ–≥–∏–∫—É –≤–≤–æ–¥–∞, –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –∏ –ª–æ–≥–∏–∫—É UI), 
–æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –ø—Ä–∏ —ç—Ç–æ–º —Å–≤–æ–±–æ–¥–Ω—É—é —Å–≤—è–∑—å –º–µ–∂–¥—É –Ω–∏–º–∏.

* **Model** (–ú–æ–¥–µ–ª—å) –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç (–æ–±—ä–µ–¥–∏–Ω—è–µ—Ç) –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≤ —Ü–µ–ª–æ–º –æ–Ω–∏ –±—É–¥—É—Ç —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ POJO (¬´–°—Ç–∞—Ä—ã—Ö –¥–æ–±—Ä—ã—Ö 
  Java-–æ–±—ä–µ–∫—Ç–æ–≤¬ª, –∏–ª–∏ –±–∏–Ω–æ–≤).


* **View** (–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –í–∏–¥) –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ú–æ–¥–µ–ª–∏, ‚Äî –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –≥–µ–Ω–µ—Ä–∏—Ä—É—è HTML, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –≤–∏–¥–∏–º –≤ —Å–≤–æ—ë–º –±—Ä–∞—É–∑–µ—Ä–µ.


* **Controller** (–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä) –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Å–æ–∑–¥–∞—ë—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –ú–æ–¥–µ–ª—å –∏ –ø–µ—Ä–µ–¥–∞—ë—Ç –µ—ë –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –í–∏–¥.


## DispatcherServlet

–í—Å—è –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã Spring MVC –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –≤–æ–∫—Ä—É–≥ DispatcherServlet, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ HTTP-–∑–∞–ø—Ä–æ—Å—ã 
(–∏–∑ UI) –∏ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –Ω–∏—Ö. –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ DispatcherServlet'–æ–º –ø—Ä–æ–∏–ª–ª—é—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–π –¥–∏–∞–≥—Ä–∞–º–º–µ:

<img src="./resources/dispatcherServlet.png" width="500" height="400"/>

1. –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è HTTP-–∑–∞–ø—Ä–æ—Å–∞ DispatcherServlet –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É HandlerMapping, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫–æ–π 
   –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω, –ø–æ—Å–ª–µ —á–µ–≥–æ, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –≤ –Ω—É–∂–Ω—ã–π –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä.
   

2. –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∏ –≤—ã–∑—ã–≤–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Å–ª—É–∂–µ–±–Ω—ã–π –º–µ—Ç–æ–¥, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ GET –∏–ª–∏ POST. –í—ã–∑–≤–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ 
   –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –ú–æ–¥–µ–ª–∏, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤ DispatcherServlet –∏–º—è –í–∏–¥–∞ (View).


3. –ü—Ä–∏ –ø–æ–º–æ—â–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ ViewResolver DispatcherServlet –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫–æ–π –í–∏–¥ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ –∏–º–µ–Ω–∏.


4. –ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –í–∏–¥ (View) —Å–æ–∑–¥–∞–Ω, DispatcherServlet –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –ú–æ–¥–µ–ª–∏ –≤ –≤–∏–¥–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –≤ –í–∏–¥, –∫–æ—Ç–æ—Ä—ã–π –≤ 
   –∫–æ–Ω–µ—á–Ω–æ–º –∏—Ç–æ–≥–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

–í—Å–µ –≤—ã—à–µ—É–ø–æ–º—è–Ω—É—Ç—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∞ –∏–º–µ–Ω–Ω–æ, HandlerMapping, Controller –∏ ViewResolver, —è–≤–ª—è—é—Ç—Å—è —á–∞—Å—Ç—è–º–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ 
WebApplicationContext extends ApplicationContext, —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—è–º–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è 
web-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

(–í–∑—è—Ç–æ –æ—Ç —Å—é–¥–∞ https://habr.com/ru/post/336816/)

[–∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#Spring)

## –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞

DispatcherServlet –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞–º –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π. –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è @Controllerannotation 
—É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–ª–∞—Å—Å —è–≤–ª—è–µ—Ç—Å—è –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–º. –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è @RequestMapping –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –º–∞–ø–∏–Ω–≥–∞ (—Å–≤—è–∑—ã–≤–∞–Ω–∏—è)
—Å URL –¥–ª—è –≤—Å–µ–≥–æ –∫–ª–∞—Å—Å–∞ –∏–ª–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞.

```java
@Controller
@RequestMapping("/hello")
public class HelloController { 
   @RequestMapping(method = RequestMethod.GET)
   public String printHello(ModelMap model) {
      model.addAttribute("message", "Hello Spring MVC Framework!");
      return "hello";
   }
}
```

–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è Controller –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–ª–∞—Å—Å –∫–∞–∫ –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä Spring MVC. –í –ø–µ—Ä–≤–æ–º —Å–ª—É—á–∞–µ, @RequestMapping —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –≤—Å–µ 
–º–µ—Ç–æ–¥—ã –≤ –¥–∞–Ω–Ω–æ–º –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ –æ—Ç–Ω–æ—Å—è—Ç—Å—è –∫ URL-–∞–¥—Ä–µ—Å—É "/hello". –°–ª–µ–¥—É—é—â–∞—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è @RequestMapping(method = RequestMethod.GET)
–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è –º–µ—Ç–æ–¥–∞ printHello() –∫–∞–∫ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ GET (–≤ –¥–∞–Ω–Ω–æ–º –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ).
–í—ã –º–æ–∂–µ—Ç–µ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ª—é–±–æ–π –¥—Ä—É–≥–æ–π –º–µ—Ç–æ–¥ –∫–∞–∫ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—Å–µ—Ö POST-–∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ –¥–∞–Ω–Ω–æ–º—É URL-–∞–¥—Ä–µ—Å—É.

–í—ã –º–æ–∂–µ—Ç–µ –Ω–∞–ø–∏—Å–∞—Ç—å –≤—ã—à–µ—É–∫–∞–∑–∞–Ω–Ω—ã–π –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø–æ-–¥—Ä—É–≥–æ–º—É, —É–∫–∞–∑–∞–≤ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã –¥–ª—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ @RequestMapping —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```java
@Controller
public class HelloController {
   @RequestMapping(value = "/hello", method = RequestMethod.GET)
   public String printHello(ModelMap model) {
      model.addAttribute("message", "Hello Spring MVC Framework!");
      return "hello";
   }
}
```

–ê—Ç—Ä–∏–±—É—Ç ¬´value¬ª —É–∫–∞–∑—ã–≤–∞–µ—Ç URL, —Å –∫–æ—Ç–æ—Ä—ã–º –º—ã —Å–≤—è–∑—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥ (value = "/hello"), –¥–∞–ª–µ–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è, —á—Ç–æ —ç—Ç–æ—Ç –º–µ—Ç–æ–¥
–±—É–¥–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å GET-–∑–∞–ø—Ä–æ—Å—ã (method = RequestMethod.GET). –¢–∞–∫–∂–µ, –Ω—É–∂–Ω–æ –æ—Ç–º–µ—Ç–∏—Ç—å –≤–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏–∏ –ø—Ä–∏–≤–µ–¥—ë–Ω–Ω–æ–≥–æ
–≤—ã—à–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞:

* –í—ã –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –≤–Ω—É—Ç—Ä–∏ —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º —Å–ª—É–∂–µ–±–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞. –ò–∑ –Ω–µ–≥–æ –í—ã –º–æ–∂–µ—Ç–µ –≤—ã–∑—ã–≤–∞—Ç—å –ª—é–±—ã–µ –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã.


* –û—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ –∑–∞–¥–∞–Ω–Ω–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ, –≤ —Ä–∞–º–∫–∞—Ö —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞ –í—ã —Å–æ–∑–¥–∞—ë—Ç–µ –ú–æ–¥–µ–ª—å (Model). –í—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–ª—è—Ç—å –∞—Ç—Ç—Ä–∏–±—É—Ç—ã 
  –ú–æ–¥–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –í–∏–¥ (View). –í –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ –º—ã —Å–æ–∑–¥–∞—ë–º –ú–æ–¥–µ–ª—å —Å –∞—Ç—Ä–∏–±—É—Ç–æ–º ¬´message¬ª.


* –î–∞–Ω–Ω—ã–π —Å–ª—É–∂–µ–±–Ω—ã–π –º–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–º—è –í–∏–¥–∞ –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏ String. –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ, –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã–π –í–∏–¥ –∏–º–µ–µ—Ç –∏–º—è ¬´hello¬ª.

[–∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#Spring)
## @RestController vs @Controller
–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è ``@RestController`` –≤ Spring MVC ‚Äî —ç—Ç–æ –Ω–µ —á—Ç–æ –∏–Ω–æ–µ, –∫–∞–∫ —Å–æ—á–µ—Ç–∞–Ω–∏–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ ``@Controller`` –∏ ``@ResponseBody``. 
–û–Ω –±—ã–ª –¥–æ–±–∞–≤–ª–µ–Ω –≤ Spring 4.0 –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –≤–µ–±-—Å–ª—É–∂–± RESTful –≤ —Å—Ä–µ–¥–µ Spring. –ï—Å–ª–∏ –≤—ã –∑–Ω–∞–∫–æ–º—ã —Å –≤–µ–±-—Å–ª—É–∂–±–∞–º–∏ REST, 
–≤—ã –∑–Ω–∞–µ—Ç–µ, —á—Ç–æ –ø—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ –º–µ–∂–¥—É –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –∏ API-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º REST –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ –æ—Ç–≤–µ—Ç 
–≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –æ–±—â–∏–π –≤–∏–¥ HTML + CSS + JavaScript, —Ç–æ–≥–¥–∞ –∫–∞–∫ API-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å REST –ø—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 
–¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–µ JSON –∏–ª–∏ XML. –≠—Ç–∞ —Ä–∞–∑–Ω–∏—Ü–∞ —Ç–∞–∫–∂–µ –æ—á–µ–≤–∏–¥–Ω–∞ –≤ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ ``@Controller`` –∏ ``@RestController``. 
–ó–∞–¥–∞—á–∞ ``@Controller`` ‚Äî —Å–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç—É –æ–±—ä–µ–∫—Ç–∞ –º–æ–¥–µ–ª–∏ –∏ –Ω–∞–π—Ç–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ, –Ω–æ @RestController –ø—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç, 
–∏ –¥–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç–∞ –Ω–∞–ø—Ä—è–º—É—é –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ HTTP-–æ—Ç–≤–µ—Ç –≤ –≤–∏–¥–µ JSON –∏–ª–∏ XML.

–≠—Ç–æ —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Å –ø–æ–º–æ—â—å—é —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–≥–æ ``@Controller`` –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ ``@ResponseBody`` –Ω–æ —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ
—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤–µ–±-—Å–µ—Ä–≤–∏—Å–æ–≤ RESTful, Spring –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–ª ``@RestController`` –∫–æ—Ç–æ—Ä—ã–π —Å–æ—á–µ—Ç–∞–ª –≤ —Å–µ–±–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ 
``@Controller`` –∏ ``@ResponseBody``.

–í–∫—Ä–∞—Ç—Ü–µ, —Å–ª–µ–¥—É—é—â–∏–µ –¥–≤–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞ –∫–æ–¥–∞ –≤ Spring MVC —Ä–∞–≤–Ω—ã:

```java

@Controller
@ResponseBody
public class MVCController {
   .. your logic
}

@RestController
public class RestFulController {
  .... your logic
}
```


[–∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#Spring)

## Spring Boot —Å—Ç–∞—Ä—Ç–µ—Ä—ã

–°—Ç–∞—Ä—Ç–µ—Ä—ã - —ç—Ç–æ –Ω–∞–±–æ—Ä —É–¥–æ–±–Ω—ã—Ö –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –º–æ–∂–µ—Ç–µ –≤–∫–ª—é—á–∏—Ç—å –≤ —Å–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ 
—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –¥–ª—è –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –≤–∞–º Spring –∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –Ω–∏–º–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏—Å–∫–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ 
–∏ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏ –≤—Å—Ç–∞–≤–ª—è—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –Ω–∞—á–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Spring –∏ JPA 
–¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, –≤–∫–ª—é—á–∏—Ç–µ –≤ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å spring-boot-starter-data-jpa.

–°—Ç–∞—Ä—Ç–µ—Ä—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã –≤–∞–º –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –∏ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–º,
–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–º –Ω–∞–±–æ—Ä–æ–º —É–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

### –ß—Ç–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –∏–º–µ–Ω–∏ —Å—Ç–∞—Ä—Ç–µ—Ä–∞
–í—Å–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ç–∞—Ä—Ç–µ—Ä—ã —Å–ª–µ–¥—É—é—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–π —Å—Ö–µ–º–µ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è; spring-boot-starter-*, –≥–¥–µ * —ç—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–∏–ø –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
–≠—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞, —á—Ç–æ–±—ã –ø–æ–º–æ—á—å, –∫–æ–≥–¥–∞ –≤–∞–º –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ —Å—Ç–∞—Ä—Ç–µ—Ä. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Maven –≤–æ –º–Ω–æ–≥–∏–µ IDE 
–ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º –∏—Å–∫–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–æ –∏–º–µ–Ω–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –ø–ª–∞–≥–∏–Ω Eclipse –∏–ª–∏ STS, –≤—ã –º–æ–∂–µ—Ç–µ 
–Ω–∞–∂–∞—Ç—å ctrl-space –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ POM –∏ –Ω–∞–±—Ä–∞—Ç—å "spring-boot-starter" –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞.

–°—Ç–æ—Ä–æ–Ω–Ω–∏–µ —Å—Ç–∞—Ä—Ç–µ—Ä—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å spring-boot, –ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω–∏ –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ 
Spring Boot. –°–∫–æ—Ä–µ–µ, —Å—Ç–æ—Ä–æ–Ω–Ω–∏–π —Å—Ç–∞—Ä—Ç–µ—Ä –æ–±—ã—á–Ω–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –Ω–∞–∑–≤–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, —Å—Ç–æ—Ä–æ–Ω–Ω–∏–π —Å—Ç–∞—Ä—Ç–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ–¥ 
–Ω–∞–∑–≤–∞–Ω–∏–µ–º thirdpartyproject –æ–±—ã—á–Ω–æ –±—É–¥–µ—Ç –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è thirdpartyproject-spring-boot-starter.

| –ò–º—è |	–û–ø–∏—Å–∞–Ω–∏–µ  |
|--------------|--------------|
| spring-boot-starter | Core starter, –≤–∫–ª—é—á–∞—é—â–∏–π –ø–æ–¥–¥–µ—Ä–∂–∫—É –∞–≤—Ç–æ–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ YAML|
| spring-boot-starter-oauth2-client	| Starter –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π Spring Security OAuth2/OpenID Connect –∫–ª–∏–µ–Ω—Ç–∞ |
| spring-boot-starter-web	| Starter –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è web, –≤–∫–ª—é—á–∞—è RESTful, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –∏—Å–ø–æ–ª—å–∑—É—è Spring MVC. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Tomcat –∫–∞–∫ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |


[–∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#Spring)
## Feign client
–ü–æ–ª–µ–∑–Ω–∞—è —Å—Ç–∞—Ç—å—è –ø—Ä–æ Feign (https://java-master.ru/vvedenie-v-spring-cloud-openfeign/)
_Feign_ - —ç—Ç–æ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π HTTP-–∫–ª–∏–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ —Å –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π Spring, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è 
–æ–±–ª–µ–≥—á–µ–Ω–∏—è —Å–æ–∑–¥–∞–Ω–∏—è HTTP API –∫–ª–∏–µ–Ω—Ç–æ–≤. –û–Ω –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –±–æ–ª–µ–µ —É–¥–æ–±–Ω—ã–π –∏ —á–∏—Å—Ç—ã–π —Å–ø–æ—Å–æ–± —Ä–∞–±–æ—Ç—ã —Å —É–¥–∞–ª–µ–Ω–Ω—ã–º–∏ HTTP-—Å–µ—Ä–≤–∏—Å–∞–º–∏ 
–ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–æ–ª–µ–µ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫, —Ç–∞–∫–∏—Ö –∫–∞–∫ HttpClient.

–í–æ—Ç –∫–∞–∫ Feign –æ–±–ª–µ–≥—á–∞–µ—Ç —Ä–∞–±–æ—Ç—É:

1. –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã: Feign –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —É–¥–∞–ª–µ–Ω–Ω—ã–º–∏ API, –∏—Å–ø–æ–ª—å–∑—É—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ 
Spring. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è –Ω–∞ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∞ –Ω–µ –Ω–∞ –¥–µ—Ç–∞–ª—è—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å HTTP.

2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Ribbon: Feign –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å Ribbon, –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–æ–º –Ω–∞–≥—Ä—É–∑–∫–∏ –æ—Ç Netflix, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å
–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ —Å—Ç–æ—Ä–æ–Ω—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ —Ä–∞–∑–ª–∏—á–Ω—ã–º —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º —Å–µ—Ä–≤–∏—Å–æ–≤.

3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Eureka: Feign —Ç–∞–∫–∂–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å Eureka, —Å–µ—Ä–≤–∏—Å–æ–º —Ä–µ–µ—Å—Ç—Ä–∞ –æ—Ç Netflix, –∫–æ—Ç–æ—Ä—ã–π –æ–±–ª–µ–≥—á–∞–µ—Ç –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏ 
—Å–≤—è–∑—ã–≤–∞–Ω–∏–µ —Å —É–¥–∞–ª–µ–Ω–Ω—ã–º–∏ —Å–ª—É–∂–±–∞–º–∏

```java
import org.springframework.cloud.openfeign.FeignClient;
import org.springframework.web.bind.annotation.GetMapping;

@FeignClient(name = "example", url = "https://api.example.com")
public interface ExampleClient {
    @GetMapping("/resource")
    String getResource();
}
```


Feign –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫, –≤–æ–∑–Ω–∏–∫–∞—é—â–∏—Ö –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤. –í–æ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–¥—Ö–æ–¥–æ–≤:

1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–æ–≤-–æ–±–µ—Ä—Ç–æ–∫ –¥–ª—è –æ—à–∏–±–æ–∫: –í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å-–æ–±–µ—Ä—Ç–∫—É –¥–ª—è –æ—à–∏–±–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –ø—Ä–∏
–≤—ã–∑–æ–≤–µ —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞, –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —ç—Ç—É –æ–±–µ—Ä—Ç–∫—É –∏–∑ –≤–∞—à–∏—Ö –º–µ—Ç–æ–¥–æ–≤ Feign. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ –æ–ø–∏—Å—ã–≤–∞—Ç—å 
—Ç–∏–ø—ã –æ—à–∏–±–æ–∫ –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∏—Ö —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º –≤ –≤–∞—à–µ–º –∫–æ–¥–µ.

```java
import org.springframework.web.bind.annotation.ResponseStatus;

@ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)
public class RemoteServiceException extends RuntimeException {
    public RemoteServiceException(String message) {
        super(message);
    }
}
```

2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ @ErrorDecoder: Feign –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–µ–∫–æ–¥–µ—Ä—ã –æ—à–∏–±–æ–∫ —Å –ø–æ–º–æ—â—å—é –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏
@ErrorDecoder. –í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ErrorDecoder, —á—Ç–æ–±—ã –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å, –∫–∞–∫–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤—ã–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è 
–ø—Ä–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ç–∞—Ç—É—Å–∞—Ö –æ—Ç–≤–µ—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞.

```java
import feign.Response;
import feign.codec.ErrorDecoder;

public class CustomErrorDecoder implements ErrorDecoder {
    @Override
    public Exception decode(String methodKey, Response response) {
        if (response.status() == 404) {
            return new ResourceNotFoundException("Resource not found");
        }
        return new Exception("Generic error occurred");
    }
}

```

```java
import org.springframework.cloud.openfeign.FeignClient;
import org.springframework.cloud.openfeign.FeignClientConfiguration;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import feign.codec.ErrorDecoder;

@Configuration
public class FeignConfig {
    @Bean
    public ErrorDecoder errorDecoder() {
        return new CustomErrorDecoder();
    }
}

@FeignClient(name = "example", url = "https://api.example.com", configuration = FeignConfig.class)
public interface ExampleClient {
    // Methods
}

```
[–∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#Spring)

## MapStruct

ChatGPT
MapStruct - —ç—Ç–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –≤ Java. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è
–º–µ–∂–¥—É Java –æ–±—ä–µ–∫—Ç–∞–º–∏ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —è–≤–Ω–æ–≥–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—è —ç—Ç–æ–≥–æ –∫–æ–¥–∞. –≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö, –≥–¥–µ —á–∞—Å—Ç–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è
–ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–ª–æ–µ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä, –º–µ–∂–¥—É —Å—É—â–Ω–æ—Å—Ç—è–º–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ DTO (Data Transfer Object).

–í–æ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ MapStruct:

1. –ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è: MapStruct –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ Java –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏, —á—Ç–æ –¥–µ–ª–∞–µ—Ç 
–µ–≥–æ –ø—Ä–æ—Å—Ç—ã–º –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∏ –ø–æ–Ω–∏–º–∞–Ω–∏–∏.

2. –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–π MapStruct –∫–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞–º–Ω–æ–≥–æ –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º —Ä–µ—Ñ–ª–µ–∫—Å–∏–≤–Ω—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è, 
–ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω –Ω–∞–ø—Ä—è–º—É—é —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ø–æ–ª—è–º–∏ –æ–±—ä–µ–∫—Ç–æ–≤.

3. –ö–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è–º–∏: MapStruct –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è, —É–∫–∞–∑—ã–≤–∞—è —Å–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ 
–Ω—É–∂–Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å, –∞ —Ç–∞–∫–∂–µ –ø—Ä–∏–º–µ–Ω—è—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π.

4. –ì–∏–±–∫–æ—Å—Ç—å: MapStruct –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è, –≤–∫–ª—é—á–∞—è –æ–¥–∏–Ω-–∫-–æ–¥–Ω–æ–º—É, –æ–¥–∏–Ω-–∫–æ-–º–Ω–æ–≥–∏–º –∏ –º–Ω–æ–≥–∏–µ-–∫-–æ–¥–Ω–æ–º—É –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.

[–∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](#Spring)
